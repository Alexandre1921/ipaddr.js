(function(){var a,b,c,d,e;a={},e=this,typeof module!="undefined"&&module!==null&&module.exports?module.exports=a:e.ipaddr=a,d=function(a,b,c,d){var e,f;if(a.length!==b.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");e=0;while(d>0){f=c-d,f<0&&(f=0);if(a[e]>>f!==b[e]>>f)return!1;d-=c,e+=1}return!0},a.matchSubnet=function(a,b,c){var d,e,f,g,h;c==null&&(c="unicast");for(d in b){e=b[d];for(g=0,h=e.length;g<h;g++){f=e[g];if(a.match.apply(a,f))return d}}return c},a.IPv4=function(){function b(a){var b,c,d;if(a.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");for(c=0,d=a.length;c<d;c++){b=a[c];if(!(0<=b&&b<=255))throw new Error("ipaddr: ipv4 octet is a byte")}this.octets=a}b.prototype.kind=function(){return"ipv4"},b.prototype.toString=function(){return this.octets.join(".")},b.prototype.match=function(a,b){if(a.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return d(this.octets,a.octets,8,b)},b.prototype.SpecialRanges={broadcast:[[new b([255,255,255,255]),32]],multicast:[[new b([224,0,0,0]),4]],linkLocal:[[new b([169,254,0,0]),16]],loopback:[[new b([127,0,0,0]),8]],"private":[[new b([10,0,0,0]),8],[new b([172,16,0,0]),12],[new b([192,168,0,0]),16]],reserved:[[new b([192,0,0,0]),24],[new b([192,0,2,0]),24],[new b([192,88,99,0]),24],[new b([198,51,100,0]),24],[new b([203,0,113,0]),24],[new b([240,0,0,0]),4]]},b.prototype.range=function(){return a.matchSubnet(this,this.SpecialRanges)};return b}(),b="(0?\\d+|0x[a-f0-9]+)",c={fourOctet:new RegExp("^"+b+"\\."+b+"\\."+b+"\\."+b+"$","i"),longValue:new RegExp("^"+b+"$","i")},a.IPv4.parser=function(a){var b,d,e,f,g,h,i,j;if(b=a.match(c.fourOctet)){i=b.slice(1,6),j=[];for(g=0,h=i.length;g<h;g++)d=i[g],j.push(parseInt(d));return j}if(b=a.match(c.longValue)){f=parseInt(b[1]);return function(){var a,b;a=[];for(e=0,b=8;e<=24;e+=b)a.push(f>>e&255);return a}().reverse()}return null},a.IPv4.isIPv4=function(a){return this.parser(a)!==null},a.IPv4.isValid=function(a){try{new this(this.parser(a));return!0}catch(b){return!1}},a.IPv4.parse=function(a){var b;b=this.parser(a);if(b===null)throw new Error("ipaddr: string is not formatted like ipv4 address");return new this(b)},a.IPv6=function(){function a(){}return a}()}).call(this)